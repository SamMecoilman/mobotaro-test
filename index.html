<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>モブ太郎伝説 - テスト統合版</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- メニュー画面 -->
  <div id="menu">
    <div id="version">ver.2.0 - Canvas化対応版</div>
    <h1>モブ太郎伝説</h1>
    <button onclick="startGame()">入学する</button>
    <button onclick="startGame()">再登校</button>
  </div>

  <!-- ゲーム画面 -->
  <div id="game" style="display: none;">
    <div id="ui" style="position: fixed; top: 10px; right: 10px; color: white; background: rgba(0,0,0,0.5); padding: 10px; border-radius: 8px; z-index: 999;">
      <div>HP: <span id="hp">100</span></div>
      <div>ATK: <span id="atk">15</span></div>
      <div>LV: <span id="level">1</span></div>
      <div>EXP: <span id="exp">0/100</span></div>
    </div>

    <!-- マップ表示部。Canvasを使用 -->
    <div id="map">
      <!-- 🎮 プレイヤー描画はCanvasに変更 -->
      <canvas id="canvas" width="512" height="512" style="image-rendering: pixelated;"></canvas>
    </div>
  </div>

  <!-- 設定パネル -->
  <div id="configPanel" style="display:none; position:fixed; top:20px; right:20px; background:#222; border:1px solid #444; padding:10px; color:white; z-index:1000;">
    <h3>設定</h3>
    <label>BGM 音量</label>
    <input type="range" min="0" max="1" step="0.01" value="0.1" id="bgmVolume">
  </div>

  <!-- モバイル用コントローラー -->
  <div id="mobile-controls">
    <div><button onclick="pressKey('ArrowUp')">↑</button></div>
    <div>
      <button onclick="pressKey('ArrowLeft')">←</button>
      <button onclick="pressKey(' ')">攻撃</button>
      <button onclick="pressKey('ArrowRight')">→</button>
    </div>
    <div><button onclick="pressKey('ArrowDown')">↓</button></div>
  </div>

  <!-- メインのスクリプト -->
  <script type="module" src="main.js"></script>
</body>
</html>
